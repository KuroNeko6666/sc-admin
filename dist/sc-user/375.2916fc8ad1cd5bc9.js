"use strict";(self.webpackChunksc_user=self.webpackChunksc_user||[]).push([[375,564],{2375:(y,g,o)=>{o.r(g),o.d(g,{UserListComponent:()=>s});var t=o(6689),p=o(6814),_=o(9862),l=o(95),f=o(4670),d=o(6565),a=o(9564),h=o(3934);const Z=function(e){return{"bg-blue-100":e}};function T(e,r){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"tr",13)(2,"td",8),t._uU(3),t.qZA(),t.TgZ(4,"td",8),t._uU(5),t.qZA(),t.TgZ(6,"td",8),t._uU(7),t.qZA(),t.TgZ(8,"td",8),t._uU(9),t.qZA(),t.TgZ(10,"td",14)(11,"button",6),t.NdJ("click",function(){const u=t.CHM(n).$implicit,m=t.oxw();return t.KtG(m.detail(u.id))}),t._uU(12,"Detail"),t.qZA(),t.TgZ(13,"button",15),t.NdJ("click",function(){const u=t.CHM(n).$implicit,m=t.oxw();return t.KtG(m.delete(u.id))}),t._UZ(14,"i",16),t.qZA(),t.TgZ(15,"button",17),t.NdJ("click",function(){const u=t.CHM(n).$implicit,m=t.oxw();return t.KtG(m.update(u.id))}),t._UZ(16,"i",18),t.qZA()()(),t.BQk()}if(2&e){const n=r.$implicit,i=r.index;t.xp6(1),t.Q6J("ngClass",t.VKq(5,Z,i%2!=0)),t.xp6(2),t.Oqu(n.id),t.xp6(2),t.Oqu(n.name),t.xp6(2),t.Oqu(n.username),t.xp6(2),t.Oqu(n.email)}}function U(e,r){1&e&&(t.TgZ(0,"tr")(1,"td",19),t._uU(2," Tidak ada User "),t.qZA()())}function b(e,r){1&e&&(t.TgZ(0,"tr")(1,"td",19),t._UZ(2,"i",20),t.qZA()())}function x(e,r){1&e&&(t.TgZ(0,"button",21),t._UZ(1,"i",22),t.qZA())}function v(e,r){1&e&&(t.TgZ(0,"button",21),t._UZ(1,"i",23),t.qZA())}let s=(()=>{class e{constructor(){this.notif=(0,t.f3M)(a.g),this.service=(0,t.f3M)(h.W),this.router=(0,t.f3M)(f.F0),this.form=new l.NI(""),this.status=d.q.initial,this.rawStatus=d.q,this.dataParams={page:1,limit:10,search:""}}ngOnInit(){this.read(),this.form.valueChanges.subscribe(n=>this.search(n))}changePage(n){switch(n){case d.u.increment:this.dataParams.page+=1;break;case d.u.decrement:this.dataParams.page-=1}this.read()}create(){this.router.navigateByUrl("/user/create")}detail(n){this.router.navigateByUrl("/user/detail/"+n)}update(n){this.router.navigateByUrl("/user/update/"+n)}delete(n){this.service.remove(n).subscribe({next:i=>{this.notif.push({message:"Berhasil menghapus data",status:"success"}),this.read()},error:i=>{console.log(i),this.notif.push({message:"Gagal menghapus data",status:"failure"})}})}limitChange(n){this.dataParams.limit=n,this.read()}search(n){this.dataParams.search=n??"",this.read()}read(){this.status=d.q.loading,this.service.read(this.params).subscribe({next:n=>{this.admins=n,this.status=d.q.initial},error:n=>{this.admins=void 0,this.status=d.q.error}})}get params(){return(new _.LE).set("page",this.dataParams.page??1).append("limit",this.dataParams.limit??10).append("search",this.dataParams.search??"")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-user-list"]],standalone:!0,features:[t.jDz],decls:31,vars:7,consts:[[1,"bg-white","shadow","rounded-lg","p-5"],[1,"flex","flex-col","gap-5","overflow-x-auto"],[1,"flex","flex-row","justify-between","place-items-center"],[1,"font-bold","text-lg"],[1,"flex","flex-row","justify-end","gap-2","place-items-center"],["type","text","placeholder","Search",1,"focus:outline-none","focus:ring-0","focus:border-none","border-none","bg-gray-100","rounded",3,"formControl"],[1,"px-4","py-2","rounded","bg-blue-500","text-white","hover:bg-blue-600",3,"click"],[1,"text-left","bg-blue-500","text-white"],[1,"px-4","py-2"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"flex","flex-row","place-items-center","gap-3"],["class","px-3 py-2 bg-gray-100 text-gray-400 hover:bg-blue-500 hover:text-white rounded",4,"ngIf"],[3,"ngClass"],[1,"px-4","py-2","flex","flex-row","gap-2"],[1,"px-4","py-2","rounded","bg-red-500","text-white","hover:bg-red-600",3,"click"],[1,"fa-solid","fa-trash"],[1,"px-4","py-2","rounded","bg-green-500","text-white","hover:bg-green-600",3,"click"],[1,"fa-solid","fa-pen"],["colspan","6",1,"text-center","font-bold","px-4","py-2"],[1,"fa-solid","fa-spinner","animate-spin","text-xl"],[1,"px-3","py-2","bg-gray-100","text-gray-400","hover:bg-blue-500","hover:text-white","rounded"],[1,"fa-solid","fa-chevron-left","text-sm"],[1,"fa-solid","fa-chevron-right","text-sm"]],template:function(n,i){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),t._uU(4,"Tabel Daftar User"),t.qZA(),t.TgZ(5,"div",4),t._UZ(6,"input",5),t.TgZ(7,"button",6),t.NdJ("click",function(){return i.create()}),t._uU(8,"Tambah"),t.qZA()()(),t.TgZ(9,"table")(10,"thead",7)(11,"th",8),t._uU(12,"ID"),t.qZA(),t.TgZ(13,"th",8),t._uU(14,"Nama"),t.qZA(),t.TgZ(15,"th",8),t._uU(16,"Username"),t.qZA(),t.TgZ(17,"th",8),t._uU(18,"Email"),t.qZA(),t.TgZ(19,"th",8),t._uU(20,"Aksi"),t.qZA()(),t.TgZ(21,"tbody"),t.YNc(22,T,17,7,"ng-container",9),t.YNc(23,U,3,0,"tr",10),t.YNc(24,b,3,0,"tr",10),t.qZA()(),t.TgZ(25,"div",11)(26,"div",11),t.YNc(27,x,2,0,"button",12),t.TgZ(28,"span"),t._uU(29),t.qZA(),t.YNc(30,v,2,0,"button",12),t.qZA()()()()),2&n){let c,u;t.xp6(6),t.Q6J("formControl",i.form),t.xp6(16),t.Q6J("ngForOf",null==i.admins?null:i.admins.data),t.xp6(1),t.Q6J("ngIf",0==(null==i.admins||null==i.admins.data?null:i.admins.data.length)),t.xp6(1),t.Q6J("ngIf",i.status==i.rawStatus.loading),t.xp6(3),t.Q6J("ngIf",(null!==(c=null==i.admins?null:i.admins.page)&&void 0!==c?c:0)>1),t.xp6(2),t.Oqu("page "+(null==i.admins?null:i.admins.page)+" of "+(null==i.admins?null:i.admins.total)),t.xp6(1),t.Q6J("ngIf",(null!==(u=null==i.admins?null:i.admins.page)&&void 0!==u?u:0)<(null!==(u=null==i.admins?null:i.admins.total)&&void 0!==u?u:0))}},dependencies:[p.ez,p.mk,p.sg,p.O5,l.UX,l.Fj,l.JJ,l.oH]}),e})()},9564:(y,g,o)=>{o.d(g,{g:()=>v});var t=o(5619);const _={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let l;const f=new Uint8Array(16);function d(){if(!l&&(l=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!l))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return l(f)}const a=[];for(let s=0;s<256;++s)a.push((s+256).toString(16).slice(1));const b=function U(s,e,r){if(_.randomUUID&&!e&&!s)return _.randomUUID();const n=(s=s||{}).random||(s.rng||d)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return function h(s,e=0){return(a[s[e+0]]+a[s[e+1]]+a[s[e+2]]+a[s[e+3]]+"-"+a[s[e+4]]+a[s[e+5]]+"-"+a[s[e+6]]+a[s[e+7]]+"-"+a[s[e+8]]+a[s[e+9]]+"-"+a[s[e+10]]+a[s[e+11]]+a[s[e+12]]+a[s[e+13]]+a[s[e+14]]+a[s[e+15]]).toLowerCase()}(n)};var x=o(6689);let v=(()=>{class s{constructor(){this.subject=new t.X([]),this.observable=this.subject.asObservable()}push(r){r.id=b();let n=this.subject.getValue();n.push(r),this.subject.next(n),setInterval(()=>this.delete(r.id),3e3)}delete(r){let i=this.subject.getValue().filter(c=>c.id!=r);this.subject.next(i)}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=x.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()}}]);