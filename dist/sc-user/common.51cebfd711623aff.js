"use strict";(self.webpackChunksc_user=self.webpackChunksc_user||[]).push([[592],{6565:(v,_,i)=>{i.d(_,{q:()=>t,u:()=>o});var t=(()=>((t=t||{})[t.initial=0]="initial",t[t.loading=1]="loading",t[t.error=2]="error",t))(),o=(()=>((o=o||{})[o.increment=0]="increment",o[o.decrement=1]="decrement",o))()},1520:(v,_,i)=>{i.d(_,{l:()=>m});var t=i(5516),o=i(6689),g=i(9862);let m=(()=>{class s{constructor(e){this.client=e,this.host=t.N.api.host,this.path=t.N.api.path.admin}read(e){let n=[this.host,this.path].join("");return this.client.get(n,{params:e})}find(e){let n=[this.host,this.path,"/",e].join("");return this.client.get(n)}add(e){let n=[this.host,this.path].join("");return this.client.post(n,e)}edit(e,n){let u=[this.host,this.path,"/",n].join("");return this.client.put(u,e)}remove(e){let n=[this.host,this.path,"/",e].join("");return this.client.delete(n)}}return s.\u0275fac=function(e){return new(e||s)(o.LFG(g.eN))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},3061:(v,_,i)=>{i.d(_,{p:()=>m});var t=i(5516),o=i(6689),g=i(9862);let m=(()=>{class s{constructor(e){this.client=e,this.host=t.N.api.host,this.path=t.N.api.path.order}read(e){let n=[this.host,this.path].join("");return this.client.get(n,{params:e})}find(e,n){let u=[this.host,this.path,"/",e].join("");return this.client.get(u,{params:n})}change(e,n){let u=[this.host,this.path,"/",e].join("");return this.client.put(u,n)}}return s.\u0275fac=function(e){return new(e||s)(o.LFG(g.eN))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},3934:(v,_,i)=>{i.d(_,{W:()=>m});var t=i(5516),o=i(6689),g=i(9862);let m=(()=>{class s{constructor(e){this.client=e,this.host=t.N.api.host,this.path=t.N.api.path.user}read(e){let n=[this.host,this.path].join("");return this.client.get(n,{params:e})}readDevice(e,n){let u=[this.host,this.path,"/device/",n].join("");return this.client.get(u,{params:e})}readNotHave(e,n){let u=[this.host,this.path,"/device/user/",n].join("");return this.client.get(u,{params:e})}find(e){let n=[this.host,this.path,"/",e].join("");return this.client.get(n)}add(e){let n=[this.host,this.path].join("");return this.client.post(n,e)}addDevice(e){let n=[this.host,this.path,"/device"].join("");return this.client.post(n,e)}edit(e,n){let u=[this.host,this.path,"/",n].join("");return this.client.put(u,e)}remove(e){let n=[this.host,this.path,"/",e].join("");return this.client.delete(n)}removeDevice(e,n){let u=[this.host,this.path,"/device/",e,"/",n].join("");return this.client.delete(u)}}return s.\u0275fac=function(e){return new(e||s)(o.LFG(g.eN))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},4681:(v,_,i)=>{i.r(_),i.d(_,{UserDeviceCreateComponent:()=>Z});var t=i(6689),o=i(6814),g=i(4974),m=i(9862),s=i(6565),h=i(95),e=i(3934),n=i(9564);function u(l,c){if(1&l){const a=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(a);const p=t.oxw().$implicit,d=t.oxw();return t.KtG(d.submit(p))}),t.TgZ(1,"span"),t._uU(2,"Tambahkan Perangkat"),t.qZA()()}}function f(l,c){1&l&&(t.TgZ(0,"button",18)(1,"span"),t._uU(2,"Sudah Ditambahkan"),t.qZA()())}const D=function(l){return{"bg-blue-100":l}};function b(l,c){if(1&l&&(t.ynx(0),t.TgZ(1,"tr",13)(2,"td",8),t._uU(3),t.qZA(),t.TgZ(4,"td",8),t._uU(5),t.qZA(),t.TgZ(6,"td",8),t._uU(7),t.qZA(),t.TgZ(8,"td",8),t._uU(9),t.qZA(),t.TgZ(10,"td",8),t._uU(11),t.qZA(),t.TgZ(12,"td",14),t.YNc(13,u,3,0,"button",15),t.YNc(14,f,3,0,"button",16),t.qZA()(),t.BQk()),2&l){const a=c.$implicit,r=c.index;t.xp6(1),t.Q6J("ngClass",t.VKq(8,D,r%2!=0)),t.xp6(2),t.Oqu(a.id),t.xp6(2),t.Oqu(a.model),t.xp6(2),t.Oqu(a.address.address),t.xp6(2),t.Oqu(a.address.city),t.xp6(2),t.Oqu(a.address.province),t.xp6(2),t.Q6J("ngIf",!a.subcribe),t.xp6(1),t.Q6J("ngIf",a.subcribe)}}function T(l,c){1&l&&(t.TgZ(0,"tr")(1,"td",19),t._uU(2," Tidak Ada Perangkat "),t.qZA()())}function C(l,c){1&l&&(t.TgZ(0,"tr")(1,"td",19),t._UZ(2,"i",20),t.qZA()())}function U(l,c){1&l&&(t.TgZ(0,"button",21),t._UZ(1,"i",22),t.qZA())}function E(l,c){1&l&&(t.TgZ(0,"button",21),t._UZ(1,"i",23),t.qZA())}let Z=(()=>{class l{constructor(){this.onBack=new t.vpe,this.notif=(0,t.f3M)(n.g),this.service=(0,t.f3M)(g.U8),this.usr=(0,t.f3M)(e.W),this.fb=(0,t.f3M)(h.qu),this.rawStatus=s.q,this.status=s.q.initial,this.search=new h.NI(""),this.dataParams={page:1,limit:10,search:""}}ngOnInit(){this.read(),this.search.valueChanges.subscribe({next:a=>{this.dataParams.search=a??"",this.read()}})}submit(a){let r=this.formData(a);this.usr.addDevice(r).subscribe({next:p=>{this.back(),this.notif.push({message:"Berhasil menambahkan perangkat untuk pengguna",status:"success"})},error:p=>{console.log(p),this.notif.push({message:"Gagal menambahkan perangkat untuk pengguna",status:"failure"})}})}read(){this.usr.readNotHave(this.params,this.user?.id??"").subscribe({next:a=>{this.list=a},error:a=>{}})}back(){this.onBack.emit()}formData(a){let r=new FormData;return r.set("user_id",this.user?.id??""),r.append("device_id",a.id??""),r}get params(){return(new m.LE).set("page",this.dataParams.page??1).append("limit",this.dataParams.limit??10).append("search",this.dataParams.search??"")}}return l.\u0275fac=function(a){return new(a||l)},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-user-device-create"]],inputs:{user:"user"},outputs:{onBack:"onBack"},standalone:!0,features:[t.jDz],decls:33,vars:7,consts:[[1,"bg-white","shadow","rounded-lg","p-5"],[1,"flex","flex-col","gap-5","overflow-x-auto"],[1,"flex","flex-row","justify-between","place-items-center"],[1,"font-bold","text-lg"],[1,"flex","flex-row","justify-end","place-items-center","gap-3"],["type","text","placeholder","Search",1,"focus:outline-none","focus:ring-0","focus:border-none","border-none","bg-gray-100","rounded",3,"formControl"],[1,"px-4","py-2","rounded-lg","bg-red-500","text-white","hover:bg-red-600",3,"click"],[1,"text-left","bg-blue-500","text-white"],[1,"px-4","py-2"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"flex","flex-row","place-items-center","gap-3"],["class","px-3 py-2 bg-gray-100 text-gray-400 hover:bg-blue-500 hover:text-white rounded",4,"ngIf"],[3,"ngClass"],[1,"px-4","py-2","flex","flex-row","gap-2"],["class","px-4 py-2 rounded-lg bg-green-500 text-white hover:bg-green-600",3,"click",4,"ngIf"],["class","px-4 py-2 rounded-lg bg-gray-500 text-white hover:bg-gray-600",4,"ngIf"],[1,"px-4","py-2","rounded-lg","bg-green-500","text-white","hover:bg-green-600",3,"click"],[1,"px-4","py-2","rounded-lg","bg-gray-500","text-white","hover:bg-gray-600"],["colspan","6",1,"text-center","font-bold","px-4","py-2"],[1,"fa-solid","fa-spinner","animate-spin","text-xl"],[1,"px-3","py-2","bg-gray-100","text-gray-400","hover:bg-blue-500","hover:text-white","rounded"],[1,"fa-solid","fa-chevron-left","text-sm"],[1,"fa-solid","fa-chevron-right","text-sm"]],template:function(a,r){if(1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),t._uU(4,"Tambah perangkat ke pengguna"),t.qZA(),t.TgZ(5,"div",4),t._UZ(6,"input",5),t.TgZ(7,"button",6),t.NdJ("click",function(){return r.back()}),t._uU(8,"Kembali"),t.qZA()()(),t.TgZ(9,"table")(10,"thead",7)(11,"th",8),t._uU(12,"ID"),t.qZA(),t.TgZ(13,"th",8),t._uU(14,"Model"),t.qZA(),t.TgZ(15,"th",8),t._uU(16,"Alamat"),t.qZA(),t.TgZ(17,"th",8),t._uU(18,"Kota"),t.qZA(),t.TgZ(19,"th",8),t._uU(20,"Provinsi"),t.qZA(),t.TgZ(21,"th",8),t._uU(22,"Aksi"),t.qZA()(),t.TgZ(23,"tbody"),t.YNc(24,b,15,10,"ng-container",9),t.YNc(25,T,3,0,"tr",10),t.YNc(26,C,3,0,"tr",10),t.qZA()(),t.TgZ(27,"div",11)(28,"div",11),t.YNc(29,U,2,0,"button",12),t.TgZ(30,"span"),t._uU(31),t.qZA(),t.YNc(32,E,2,0,"button",12),t.qZA()()()()),2&a){let p,d;t.xp6(6),t.Q6J("formControl",r.search),t.xp6(18),t.Q6J("ngForOf",null==r.list?null:r.list.data),t.xp6(1),t.Q6J("ngIf",0==(null==r.list||null==r.list.data?null:r.list.data.length)||null==r.list),t.xp6(1),t.Q6J("ngIf",r.status==r.rawStatus.loading),t.xp6(3),t.Q6J("ngIf",(null!==(p=null==r.list?null:r.list.page)&&void 0!==p?p:0)>1),t.xp6(2),t.Oqu("page "+(null==r.list?null:r.list.page)+" of "+(null==r.list?null:r.list.total)),t.xp6(1),t.Q6J("ngIf",(null!==(d=null==r.list?null:r.list.page)&&void 0!==d?d:0)<(null!==(d=null==r.list?null:r.list.total)&&void 0!==d?d:0))}},dependencies:[o.ez,o.mk,o.sg,o.O5,h.UX,h.Fj,h.JJ,h.oH]}),l})()}}]);