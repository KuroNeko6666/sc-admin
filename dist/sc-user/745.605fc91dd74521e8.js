"use strict";(self.webpackChunksc_user=self.webpackChunksc_user||[]).push([[745,564],{6745:(y,h,o)=>{o.r(h),o.d(h,{DeviceListComponent:()=>i});var e=o(6689),g=o(6814),p=o(9862),l=o(95),u=o(6565),v=o(4974),a=o(4670),m=o(9564);const U=function(t){return{"bg-blue-100":t}};function T(t,r){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"tr",13)(2,"td",8),e._uU(3),e.qZA(),e.TgZ(4,"td",8),e._uU(5),e.qZA(),e.TgZ(6,"td",8),e._uU(7),e.qZA(),e.TgZ(8,"td",8),e._uU(9),e.qZA(),e.TgZ(10,"td",8),e._uU(11),e.qZA(),e.TgZ(12,"td",8),e._uU(13),e.qZA(),e.TgZ(14,"td",8)(15,"button",6),e.NdJ("click",function(){const c=e.CHM(n).$implicit,_=e.oxw();return e.KtG(_.detail(c.id))}),e._uU(16,"Detail"),e.qZA()(),e.TgZ(17,"td",14)(18,"button",15),e.NdJ("click",function(){const c=e.CHM(n).$implicit,_=e.oxw();return e.KtG(_.delete(c.id))}),e._UZ(19,"i",16),e.qZA(),e.TgZ(20,"button",17),e.NdJ("click",function(){const c=e.CHM(n).$implicit,_=e.oxw();return e.KtG(_.update(c.id))}),e._UZ(21,"i",18),e.qZA()()(),e.BQk()}if(2&t){const n=r.$implicit,s=r.index;e.xp6(1),e.Q6J("ngClass",e.VKq(7,U,s%2!=0)),e.xp6(2),e.Oqu(n.id),e.xp6(2),e.Oqu(n.model),e.xp6(2),e.Oqu(n.address.address),e.xp6(2),e.Oqu(n.address.city),e.xp6(2),e.Oqu(n.address.province),e.xp6(2),e.Oqu(n.subcribers)}}function f(t,r){1&t&&(e.TgZ(0,"tr")(1,"td",19),e._uU(2," No Device "),e.qZA()())}function b(t,r){1&t&&(e.TgZ(0,"tr")(1,"td",19),e._UZ(2,"i",20),e.qZA()())}function Z(t,r){1&t&&(e.TgZ(0,"button",21),e._UZ(1,"i",22),e.qZA())}function x(t,r){1&t&&(e.TgZ(0,"button",21),e._UZ(1,"i",23),e.qZA())}let i=(()=>{class t{constructor(){this.service=(0,e.f3M)(v.U8),this.notif=(0,e.f3M)(m.g),this.router=(0,e.f3M)(a.F0),this.form=new l.NI(""),this.status=u.q.initial,this.rawStatus=u.q,this.dataParams={page:1,limit:10,search:""}}ngOnInit(){this.read(),this.form.valueChanges.subscribe(n=>this.search(n))}changePage(n){switch(n){case u.u.increment:this.dataParams.page+=1;break;case u.u.decrement:this.dataParams.page-=1}this.read()}create(){this.router.navigateByUrl("/device/create")}update(n){this.router.navigateByUrl("/device/update/"+n)}detail(n){this.router.navigateByUrl("/device/detail/"+n)}delete(n){this.service.remove(n).subscribe({next:s=>{this.notif.push({message:"Berhasil menghapus data",status:"success"}),this.read()},error:s=>{console.log(s),this.notif.push({message:"Gagal menghapus data",status:"failure"})}})}limitChange(n){this.dataParams.limit=n,this.read()}search(n){this.dataParams.search=n??"",this.read()}read(){this.status=u.q.loading,this.service.read(this.params).subscribe({next:n=>{this.devices=n,this.status=u.q.initial},error:n=>{this.devices=void 0,this.status=u.q.error}})}get params(){return(new p.LE).set("page",this.dataParams.page??1).append("limit",this.dataParams.limit??10).append("search",this.dataParams.search??"")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-device-list"]],standalone:!0,features:[e.jDz],decls:37,vars:7,consts:[[1,"bg-white","shadow","rounded-lg","p-5"],[1,"flex","flex-col","gap-5","overflow-x-auto"],[1,"flex","flex-row","justify-between","place-items-center"],[1,"font-bold","text-lg"],[1,"flex","flex-row","justify-end","place-items-center","gap-3"],["type","text","placeholder","Search",1,"focus:outline-none","focus:ring-0","focus:border-none","border-none","bg-gray-100","rounded",3,"formControl"],[1,"px-4","py-2","rounded-lg","bg-blue-500","text-white","hover:bg-blue-600",3,"click"],[1,"text-left","bg-blue-500","text-white"],[1,"px-4","py-2"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"flex","flex-row","place-items-center","gap-3"],["class","px-3 py-2 bg-gray-100 text-gray-400 hover:bg-blue-500 hover:text-white rounded",4,"ngIf"],[3,"ngClass"],[1,"px-4","py-2","flex","flex-row","gap-2"],[1,"px-4","py-2","rounded-lg","bg-red-500","text-white","hover:bg-red-600",3,"click"],[1,"fa-solid","fa-trash"],[1,"px-4","py-2","rounded-lg","bg-green-500","text-white","hover:bg-green-600",3,"click"],[1,"fa-solid","fa-pen"],["colspan","6",1,"text-center","font-bold","px-4","py-2"],[1,"fa-solid","fa-spinner","animate-spin","text-xl"],[1,"px-3","py-2","bg-gray-100","text-gray-400","hover:bg-blue-500","hover:text-white","rounded"],[1,"fa-solid","fa-chevron-left","text-sm"],[1,"fa-solid","fa-chevron-right","text-sm"]],template:function(n,s){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),e._uU(4,"Tabel Daftar Perangkat"),e.qZA(),e.TgZ(5,"div",4),e._UZ(6,"input",5),e.TgZ(7,"button",6),e.NdJ("click",function(){return s.create()}),e._uU(8,"Tambah"),e.qZA()()(),e.TgZ(9,"table")(10,"thead",7)(11,"th",8),e._uU(12,"ID"),e.qZA(),e.TgZ(13,"th",8),e._uU(14,"Model"),e.qZA(),e.TgZ(15,"th",8),e._uU(16,"Alamat"),e.qZA(),e.TgZ(17,"th",8),e._uU(18,"Kota"),e.qZA(),e.TgZ(19,"th",8),e._uU(20,"Provinsi"),e.qZA(),e.TgZ(21,"th",8),e._uU(22,"Pengguna"),e.qZA(),e.TgZ(23,"th",8),e._uU(24,"Detail"),e.qZA(),e.TgZ(25,"th",8),e._uU(26,"Aksi"),e.qZA()(),e.TgZ(27,"tbody"),e.YNc(28,T,22,9,"ng-container",9),e.YNc(29,f,3,0,"tr",10),e.YNc(30,b,3,0,"tr",10),e.qZA()(),e.TgZ(31,"div",11)(32,"div",11),e.YNc(33,Z,2,0,"button",12),e.TgZ(34,"span"),e._uU(35),e.qZA(),e.YNc(36,x,2,0,"button",12),e.qZA()()()()),2&n){let d,c;e.xp6(6),e.Q6J("formControl",s.form),e.xp6(22),e.Q6J("ngForOf",null==s.devices?null:s.devices.data),e.xp6(1),e.Q6J("ngIf",0==(null==s.devices||null==s.devices.data?null:s.devices.data.length)),e.xp6(1),e.Q6J("ngIf",s.status==s.rawStatus.loading),e.xp6(3),e.Q6J("ngIf",(null!==(d=null==s.devices?null:s.devices.page)&&void 0!==d?d:0)>1),e.xp6(2),e.Oqu("page "+(null==s.devices?null:s.devices.page)+" of "+(null==s.devices?null:s.devices.total)),e.xp6(1),e.Q6J("ngIf",(null!==(c=null==s.devices?null:s.devices.page)&&void 0!==c?c:0)<(null!==(c=null==s.devices?null:s.devices.total)&&void 0!==c?c:0))}},dependencies:[g.ez,g.mk,g.sg,g.O5,p.JF,l.UX,l.Fj,l.JJ,l.oH]}),t})()},9564:(y,h,o)=>{o.d(h,{g:()=>x});var e=o(5619);const p={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let l;const u=new Uint8Array(16);function v(){if(!l&&(l=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!l))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return l(u)}const a=[];for(let i=0;i<256;++i)a.push((i+256).toString(16).slice(1));const b=function f(i,t,r){if(p.randomUUID&&!t&&!i)return p.randomUUID();const n=(i=i||{}).random||(i.rng||v)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let s=0;s<16;++s)t[r+s]=n[s];return t}return function m(i,t=0){return(a[i[t+0]]+a[i[t+1]]+a[i[t+2]]+a[i[t+3]]+"-"+a[i[t+4]]+a[i[t+5]]+"-"+a[i[t+6]]+a[i[t+7]]+"-"+a[i[t+8]]+a[i[t+9]]+"-"+a[i[t+10]]+a[i[t+11]]+a[i[t+12]]+a[i[t+13]]+a[i[t+14]]+a[i[t+15]]).toLowerCase()}(n)};var Z=o(6689);let x=(()=>{class i{constructor(){this.subject=new e.X([]),this.observable=this.subject.asObservable()}push(r){r.id=b();let n=this.subject.getValue();n.push(r),this.subject.next(n),setInterval(()=>this.delete(r.id),3e3)}delete(r){let s=this.subject.getValue().filter(d=>d.id!=r);this.subject.next(s)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=Z.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()}}]);