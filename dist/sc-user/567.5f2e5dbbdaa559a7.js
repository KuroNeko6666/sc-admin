"use strict";(self.webpackChunksc_user=self.webpackChunksc_user||[]).push([[567,564],{2567:(y,h,l)=>{l.r(h),l.d(h,{UserDetailComponent:()=>_});var t=l(6689),p=l(6814),g=l(4670),u=l(6565),f=l(3934),x=l(9862),r=l(95),m=l(4681),T=l(9564);function D(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"app-user-device-create",2),t.NdJ("onBack",function(){t.CHM(e);const d=t.oxw();return t.KtG(d.toogle())}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("user",e.data)}}const v=function(i){return{"bg-blue-100":i}};function U(i,c){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr",17)(2,"td",12),t._uU(3),t.qZA(),t.TgZ(4,"td",12),t._uU(5),t.qZA(),t.TgZ(6,"td",12),t._uU(7),t.qZA(),t.TgZ(8,"td",12),t._uU(9),t.qZA(),t.TgZ(10,"td",12),t._uU(11),t.qZA(),t.TgZ(12,"td",12),t._uU(13),t.qZA(),t.TgZ(14,"td",18)(15,"button",9),t.NdJ("click",function(){const C=t.CHM(e).$implicit,A=t.oxw(2);return t.KtG(A.delete(C.id))}),t._UZ(16,"i",19),t.qZA()()(),t.BQk()}if(2&i){const e=c.$implicit,a=c.index;t.xp6(1),t.Q6J("ngClass",t.VKq(7,v,a%2!=0)),t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Oqu(e.model),t.xp6(2),t.Oqu(e.address.address),t.xp6(2),t.Oqu(e.address.city),t.xp6(2),t.Oqu(e.address.province),t.xp6(2),t.Oqu(e.subcribers)}}function b(i,c){1&i&&(t.TgZ(0,"tr")(1,"td",20),t._uU(2," Tidak Ada Perangkat "),t.qZA()())}function Z(i,c){1&i&&(t.TgZ(0,"tr")(1,"td",20),t._UZ(2,"i",21),t.qZA()())}function n(i,c){1&i&&(t.TgZ(0,"button",22),t._UZ(1,"i",23),t.qZA())}function s(i,c){1&i&&(t.TgZ(0,"button",22),t._UZ(1,"i",24),t.qZA())}function o(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"span",6),t._uU(4),t.qZA(),t.TgZ(5,"div",7),t._UZ(6,"input",8),t.TgZ(7,"button",9),t.NdJ("click",function(){t.CHM(e);const d=t.oxw();return t.KtG(d.back())}),t._uU(8,"Kembali"),t.qZA(),t.TgZ(9,"button",10),t.NdJ("click",function(){t.CHM(e);const d=t.oxw();return t.KtG(d.toogle())}),t._uU(10,"Tambah Device"),t.qZA()()(),t.TgZ(11,"table")(12,"thead",11)(13,"th",12),t._uU(14,"ID"),t.qZA(),t.TgZ(15,"th",12),t._uU(16,"Model"),t.qZA(),t.TgZ(17,"th",12),t._uU(18,"Alamat"),t.qZA(),t.TgZ(19,"th",12),t._uU(20,"Kota"),t.qZA(),t.TgZ(21,"th",12),t._uU(22,"Provinsi"),t.qZA(),t.TgZ(23,"th",12),t._uU(24,"Pengguna"),t.qZA(),t.TgZ(25,"th",12),t._uU(26,"Aksi"),t.qZA()(),t.TgZ(27,"tbody"),t.YNc(28,U,17,9,"ng-container",13),t.YNc(29,b,3,0,"tr",14),t.YNc(30,Z,3,0,"tr",14),t.qZA()(),t.TgZ(31,"div",15)(32,"div",15),t.YNc(33,n,2,0,"button",16),t.TgZ(34,"span"),t._uU(35),t.qZA(),t.YNc(36,s,2,0,"button",16),t.qZA()()()()}if(2&i){const e=t.oxw();let a,d;t.xp6(4),t.hij("Tabel Daftar Perangkat Pada ",null==e.data?null:e.data.name,""),t.xp6(2),t.Q6J("formControl",e.form),t.xp6(22),t.Q6J("ngForOf",null==e.list?null:e.list.data),t.xp6(1),t.Q6J("ngIf",0==(null==e.list||null==e.list.data?null:e.list.data.length)||null==e.list),t.xp6(1),t.Q6J("ngIf",e.status==e.rawStatus.loading),t.xp6(3),t.Q6J("ngIf",(null!==(a=null==e.list?null:e.list.page)&&void 0!==a?a:0)>1),t.xp6(2),t.Oqu("page "+(null==e.list?null:e.list.page)+" of "+(null==e.list?null:e.list.total)),t.xp6(1),t.Q6J("ngIf",(null!==(d=null==e.list?null:e.list.page)&&void 0!==d?d:0)<(null!==(d=null==e.list?null:e.list.total)&&void 0!==d?d:0))}}let _=(()=>{class i{constructor(){this.notif=(0,t.f3M)(T.g),this.service=(0,t.f3M)(f.W),this.active=(0,t.f3M)(g.gz),this.router=(0,t.f3M)(g.F0),this.rawStatus=u.q,this.status=u.q.initial,this.form=new r.NI(""),this.mode=!1,this.dataParams={page:1,limit:10,search:""}}ngOnInit(){this.active.params.subscribe(e=>{this.find(e.id??"")}),this.form.valueChanges.subscribe({next:e=>{this.dataParams.search=e??"",this.read()}})}find(e){this.status=u.q.loading,this.service.find(e).subscribe({next:a=>{this.data=a.data,this.read()},error:a=>{console.log(a),this.status=u.q.error}})}read(){this.service.readDevice(this.params,this.data?.id??"").subscribe({next:e=>{this.list=e,this.status=u.q.initial},error:e=>{this.list=void 0,this.status=u.q.error}})}delete(e){this.service.removeDevice(e,this.data?.id??"").subscribe({next:a=>{this.status=u.q.initial,this.notif.push({message:"Berhasil menghapus perangkat dari pengguna",status:"success"}),this.read()},error:a=>{console.log(a),this.notif.push({message:"Gagal menghapus perangkat dari pengguna",status:"failure"}),this.status=u.q.error}})}toogle(){this.mode=!this.mode,this.mode||this.read()}back(){this.router.navigateByUrl("/user/list")}get params(){return(new x.LE).set("page",this.dataParams.page??1).append("limit",this.dataParams.limit??10).append("search",this.dataParams.search??"")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-user-detail"]],standalone:!0,features:[t.jDz],decls:2,vars:2,consts:[[3,"user","onBack",4,"ngIf"],["class","bg-white shadow rounded-lg p-5",4,"ngIf"],[3,"user","onBack"],[1,"bg-white","shadow","rounded-lg","p-5"],[1,"flex","flex-col","gap-5","overflow-x-auto"],[1,"flex","flex-row","justify-between","place-items-center"],[1,"font-bold","text-lg"],[1,"flex","flex-row","justify-end","place-items-center","gap-3"],["type","text","placeholder","Search",1,"focus:outline-none","focus:ring-0","focus:border-none","border-none","bg-gray-100","rounded",3,"formControl"],[1,"px-4","py-2","rounded-lg","bg-red-500","text-white","hover:bg-red-600",3,"click"],[1,"px-4","py-2","rounded-lg","bg-blue-500","text-white","hover:bg-blue-600",3,"click"],[1,"text-left","bg-blue-500","text-white"],[1,"px-4","py-2"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"flex","flex-row","place-items-center","gap-3"],["class","px-3 py-2 bg-gray-100 text-gray-400 hover:bg-blue-500 hover:text-white rounded",4,"ngIf"],[3,"ngClass"],[1,"px-4","py-2","flex","flex-row","gap-2"],[1,"fa-solid","fa-trash"],["colspan","6",1,"text-center","font-bold","px-4","py-2"],[1,"fa-solid","fa-spinner","animate-spin","text-xl"],[1,"px-3","py-2","bg-gray-100","text-gray-400","hover:bg-blue-500","hover:text-white","rounded"],[1,"fa-solid","fa-chevron-left","text-sm"],[1,"fa-solid","fa-chevron-right","text-sm"]],template:function(e,a){1&e&&(t.YNc(0,D,1,1,"app-user-device-create",0),t.YNc(1,o,37,8,"div",1)),2&e&&(t.Q6J("ngIf",a.mode),t.xp6(1),t.Q6J("ngIf",!a.mode))},dependencies:[p.ez,p.mk,p.sg,p.O5,r.UX,r.Fj,r.JJ,r.oH,m.UserDeviceCreateComponent]}),i})()},9564:(y,h,l)=>{l.d(h,{g:()=>Z});var t=l(5619);const g={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let u;const f=new Uint8Array(16);function x(){if(!u&&(u=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!u))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return u(f)}const r=[];for(let n=0;n<256;++n)r.push((n+256).toString(16).slice(1));const U=function v(n,s,o){if(g.randomUUID&&!s&&!n)return g.randomUUID();const _=(n=n||{}).random||(n.rng||x)();if(_[6]=15&_[6]|64,_[8]=63&_[8]|128,s){o=o||0;for(let i=0;i<16;++i)s[o+i]=_[i];return s}return function m(n,s=0){return(r[n[s+0]]+r[n[s+1]]+r[n[s+2]]+r[n[s+3]]+"-"+r[n[s+4]]+r[n[s+5]]+"-"+r[n[s+6]]+r[n[s+7]]+"-"+r[n[s+8]]+r[n[s+9]]+"-"+r[n[s+10]]+r[n[s+11]]+r[n[s+12]]+r[n[s+13]]+r[n[s+14]]+r[n[s+15]]).toLowerCase()}(_)};var b=l(6689);let Z=(()=>{class n{constructor(){this.subject=new t.X([]),this.observable=this.subject.asObservable()}push(o){o.id=U();let _=this.subject.getValue();_.push(o),this.subject.next(_),setInterval(()=>this.delete(o.id),3e3)}delete(o){let i=this.subject.getValue().filter(c=>c.id!=o);this.subject.next(i)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=b.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()}}]);