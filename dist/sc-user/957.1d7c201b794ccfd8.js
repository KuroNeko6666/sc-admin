"use strict";(self.webpackChunksc_user=self.webpackChunksc_user||[]).push([[957,564],{7957:(T,p,o)=>{o.r(p),o.d(p,{AdminListComponent:()=>i});var t=o(6689),m=o(6814),g=o(1520),c=o(9862),d=o(95),h=o(4670),s=o(6565),_=o(9564);const U=function(e){return{"bg-blue-100":e}};function A(e,r){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"tr",13)(2,"td",8),t._uU(3),t.qZA(),t.TgZ(4,"td",8),t._uU(5),t.qZA(),t.TgZ(6,"td",8),t._uU(7),t.qZA(),t.TgZ(8,"td",8),t._uU(9),t.qZA(),t.TgZ(10,"td",8),t._uU(11),t.qZA(),t.TgZ(12,"td",14)(13,"button",15),t.NdJ("click",function(){const l=t.CHM(n).$implicit,Z=t.oxw();return t.KtG(Z.delete(l.id))}),t._UZ(14,"i",16),t.qZA(),t.TgZ(15,"button",17),t.NdJ("click",function(){const l=t.CHM(n).$implicit,Z=t.oxw();return t.KtG(Z.update(l.id))}),t._UZ(16,"i",18),t.qZA()()(),t.BQk()}if(2&e){const n=r.$implicit,a=r.index;t.xp6(1),t.Q6J("ngClass",t.VKq(6,U,a%2!=0)),t.xp6(2),t.Oqu(n.id),t.xp6(2),t.Oqu(n.name),t.xp6(2),t.Oqu(n.username),t.xp6(2),t.Oqu(n.email),t.xp6(2),t.Oqu(n.role)}}function f(e,r){1&e&&(t.TgZ(0,"tr")(1,"td",19),t._uU(2," Tidak ada Admin "),t.qZA()())}function b(e,r){1&e&&(t.TgZ(0,"tr")(1,"td",19),t._UZ(2,"i",20),t.qZA()())}function v(e,r){1&e&&(t.TgZ(0,"button",21),t._UZ(1,"i",22),t.qZA())}function x(e,r){1&e&&(t.TgZ(0,"button",21),t._UZ(1,"i",23),t.qZA())}let i=(()=>{class e{constructor(){this.notif=(0,t.f3M)(_.g),this.service=(0,t.f3M)(g.l),this.router=(0,t.f3M)(h.F0),this.form=new d.NI(""),this.status=s.q.initial,this.rawStatus=s.q,this.dataParams={page:1,limit:10,search:""}}ngOnInit(){this.read(),this.form.valueChanges.subscribe(n=>this.search(n))}changePage(n){switch(n){case s.u.increment:this.dataParams.page+=1;break;case s.u.decrement:this.dataParams.page-=1}this.read()}create(){this.router.navigateByUrl("/admin/create")}detail(n){this.router.navigateByUrl("/admin/detail/"+n)}update(n){this.router.navigateByUrl("/admin/update/"+n)}delete(n){this.service.remove(n).subscribe({next:a=>{this.notif.push({message:"Berhasil menghapus data",status:"success"}),this.read()},error:a=>{console.log(a),this.notif.push({message:"Gagal menghapus data",status:"failure"})}})}limitChange(n){this.dataParams.limit=n,this.read()}search(n){this.dataParams.search=n??"",this.read()}read(){this.status=s.q.loading,this.service.read(this.params).subscribe({next:n=>{this.admins=n,this.status=s.q.initial},error:n=>{this.admins=void 0,this.status=s.q.error}})}get params(){return(new c.LE).set("page",this.dataParams.page??1).append("limit",this.dataParams.limit??10).append("search",this.dataParams.search??"")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-admin-list"]],standalone:!0,features:[t.jDz],decls:33,vars:7,consts:[[1,"bg-white","shadow","rounded-lg","p-5"],[1,"flex","flex-col","gap-5","overflow-x-auto"],[1,"flex","flex-row","justify-between","place-items-center"],[1,"font-bold","text-lg"],[1,"flex","flex-row","justify-end","gap-2","place-items-center"],["type","text","placeholder","Search",1,"focus:outline-none","focus:ring-0","focus:border-none","border-none","bg-gray-100","rounded",3,"formControl"],[1,"px-4","py-2","rounded","bg-blue-500","text-white","hover:bg-blue-600",3,"click"],[1,"text-left","bg-blue-500","text-white"],[1,"px-4","py-2"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"flex","flex-row","place-items-center","gap-3"],["class","px-3 py-2 bg-gray-100 text-gray-400 hover:bg-blue-500 hover:text-white rounded",4,"ngIf"],[3,"ngClass"],[1,"px-4","py-2","flex","flex-row","gap-2"],[1,"px-4","py-2","rounded","bg-red-500","text-white","hover:bg-red-600",3,"click"],[1,"fa-solid","fa-trash"],[1,"px-4","py-2","rounded","bg-green-500","text-white","hover:bg-green-600",3,"click"],[1,"fa-solid","fa-pen"],["colspan","6",1,"text-center","font-bold","px-4","py-2"],[1,"fa-solid","fa-spinner","animate-spin","text-xl"],[1,"px-3","py-2","bg-gray-100","text-gray-400","hover:bg-blue-500","hover:text-white","rounded"],[1,"fa-solid","fa-chevron-left","text-sm"],[1,"fa-solid","fa-chevron-right","text-sm"]],template:function(n,a){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),t._uU(4,"Tabel Daftar Admin"),t.qZA(),t.TgZ(5,"div",4),t._UZ(6,"input",5),t.TgZ(7,"button",6),t.NdJ("click",function(){return a.create()}),t._uU(8,"Tambah"),t.qZA()()(),t.TgZ(9,"table")(10,"thead",7)(11,"th",8),t._uU(12,"ID"),t.qZA(),t.TgZ(13,"th",8),t._uU(14,"Nama"),t.qZA(),t.TgZ(15,"th",8),t._uU(16,"Username"),t.qZA(),t.TgZ(17,"th",8),t._uU(18,"Email"),t.qZA(),t.TgZ(19,"th",8),t._uU(20,"Role"),t.qZA(),t.TgZ(21,"th",8),t._uU(22,"Aksi"),t.qZA()(),t.TgZ(23,"tbody"),t.YNc(24,A,17,8,"ng-container",9),t.YNc(25,f,3,0,"tr",10),t.YNc(26,b,3,0,"tr",10),t.qZA()(),t.TgZ(27,"div",11)(28,"div",11),t.YNc(29,v,2,0,"button",12),t.TgZ(30,"span"),t._uU(31),t.qZA(),t.YNc(32,x,2,0,"button",12),t.qZA()()()()),2&n){let u,l;t.xp6(6),t.Q6J("formControl",a.form),t.xp6(18),t.Q6J("ngForOf",null==a.admins?null:a.admins.data),t.xp6(1),t.Q6J("ngIf",0==(null==a.admins||null==a.admins.data?null:a.admins.data.length)),t.xp6(1),t.Q6J("ngIf",a.status==a.rawStatus.loading),t.xp6(3),t.Q6J("ngIf",(null!==(u=null==a.admins?null:a.admins.page)&&void 0!==u?u:0)>1),t.xp6(2),t.Oqu("page "+(null==a.admins?null:a.admins.page)+" of "+(null==a.admins?null:a.admins.total)),t.xp6(1),t.Q6J("ngIf",(null!==(l=null==a.admins?null:a.admins.page)&&void 0!==l?l:0)<(null!==(l=null==a.admins?null:a.admins.total)&&void 0!==l?l:0))}},dependencies:[m.ez,m.mk,m.sg,m.O5,d.UX,d.Fj,d.JJ,d.oH]}),e})()},9564:(T,p,o)=>{o.d(p,{g:()=>x});var t=o(5619);const g={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let c;const d=new Uint8Array(16);function h(){if(!c&&(c=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!c))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return c(d)}const s=[];for(let i=0;i<256;++i)s.push((i+256).toString(16).slice(1));const b=function f(i,e,r){if(g.randomUUID&&!e&&!i)return g.randomUUID();const n=(i=i||{}).random||(i.rng||h)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(let a=0;a<16;++a)e[r+a]=n[a];return e}return function _(i,e=0){return(s[i[e+0]]+s[i[e+1]]+s[i[e+2]]+s[i[e+3]]+"-"+s[i[e+4]]+s[i[e+5]]+"-"+s[i[e+6]]+s[i[e+7]]+"-"+s[i[e+8]]+s[i[e+9]]+"-"+s[i[e+10]]+s[i[e+11]]+s[i[e+12]]+s[i[e+13]]+s[i[e+14]]+s[i[e+15]]).toLowerCase()}(n)};var v=o(6689);let x=(()=>{class i{constructor(){this.subject=new t.X([]),this.observable=this.subject.asObservable()}push(r){r.id=b();let n=this.subject.getValue();n.push(r),this.subject.next(n),setInterval(()=>this.delete(r.id),3e3)}delete(r){let a=this.subject.getValue().filter(u=>u.id!=r);this.subject.next(a)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=v.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()}}]);