"use strict";(self.webpackChunksc_user=self.webpackChunksc_user||[]).push([[749,564],{1749:(x,h,o)=>{o.r(h),o.d(h,{UserUpdateComponent:()=>U});var t=o(6689),g=o(6814),l=o(95),u=o(6565),b=o(9564),f=o(4670),a=o(3934);function _(d,m){1&d&&(t.TgZ(0,"span",16),t._uU(1,"*nama dibutuhkan!"),t.qZA())}function v(d,m){1&d&&t._UZ(0,"i",17)}let U=(()=>{class d{constructor(){this.router=(0,t.f3M)(f.F0),this.service=(0,t.f3M)(a.W),this.notif=(0,t.f3M)(b.g),this.fb=(0,t.f3M)(l.qu),this.active=(0,t.f3M)(f.gz),this.rawStatus=u.q,this.status=u.q.initial,this.currentID="",this.form=this.fb.group({name:["",[l.kI.required]]})}get name(){return this.form.get("name")}ngOnInit(){this.active.params.subscribe(i=>{this.find(i.id??"")})}find(i){this.status=u.q.loading,this.currentID=i,this.service.find(i).subscribe({next:s=>{this.setForm(s.data),this.status=u.q.initial},error:s=>{console.log(s),this.status=u.q.error}})}submit(){if(this.form.invalid)return this.form.markAllAsTouched();this.status=u.q.loading,this.service.edit(this.formData,this.currentID).subscribe({next:i=>{this.notif.push({message:"Data berhasil ditambahkan",status:"success"}),this.status=u.q.initial,this.back()},error:i=>{this.notif.push({message:"Data gagal ditambahkan",status:"failure"}),console.log(i),this.status=u.q.error}})}back(){this.router.navigateByUrl("/user/list")}setForm(i){this.name?.setValue(i.name)}get formData(){let i=new FormData;return i.set("name",this.name?.value??""),i}}return d.\u0275fac=function(i){return new(i||d)},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-user-update"]],standalone:!0,features:[t.jDz],decls:24,vars:5,consts:[[1,"bg-white","rounded-lg","shadow","p-8"],[1,"flex","flex-col","gap-5"],[1,"flex","flex-col"],[1,"text-2xl","font-black"],[1,""],[1,"flex","flex-col","w-full","gap-3",3,"formGroup","submit"],[1,"flex","flex-col","focus-within:scale-[102%]","transition-all","duration-200"],["for","name",1,"mb-1"],[1,"flex","flex-row","place-items-center","border-[1px]","md:border-[2px]","2xl:border-[3px]","transition-all","duration-200","rounded-lg",3,"ngClass"],["type","text","placeholder","Masukan name","formControlName","name","id","name",1,"w-full"],["class","px-3 mt-1 text-red-500 text-sm",4,"ngIf"],[1,"flex","flex-row","justify-end","gap-3"],["type","button",1,"px-4","py-2","mt-2","rounded-lg","bg-red-500","hover:bg-red-600","text-white","font-bold","hover:scale-[102%]","transition-all","duration-200",3,"click"],[1,"flex","flex-row","justify-center","place-items-center","gap-2"],["type","submit",1,"px-4","py-2","mt-2","rounded-lg","bg-blue-500","hover:bg-blue-600","text-white","font-bold","hover:scale-[102%]","transition-all","duration-200"],["class","fa-solid fa-spinner animate-spin",4,"ngIf"],[1,"px-3","mt-1","text-red-500","text-sm"],[1,"fa-solid","fa-spinner","animate-spin"]],template:function(i,s){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),t._uU(4,"Tambah Admin"),t.qZA(),t.TgZ(5,"span",4),t._uU(6,"Masukan data untuk menambahkan Admin!"),t.qZA()(),t.TgZ(7,"form",5),t.NdJ("submit",function(){return s.submit()}),t.TgZ(8,"div",6)(9,"label",7),t._uU(10,"Nama :"),t.qZA(),t.TgZ(11,"div",8),t._UZ(12,"input",9),t.qZA(),t.YNc(13,_,2,0,"span",10),t.qZA(),t.TgZ(14,"div",11)(15,"button",12),t.NdJ("click",function(){return s.back()}),t.TgZ(16,"div",13)(17,"span"),t._uU(18,"BATAL"),t.qZA()()(),t.TgZ(19,"button",14)(20,"div",13),t.YNc(21,v,1,0,"i",15),t.TgZ(22,"span"),t._uU(23),t.qZA()()()()()()()),2&i&&(t.xp6(7),t.Q6J("formGroup",s.form),t.xp6(4),t.Q6J("ngClass",null!=s.name&&s.name.touched&&null!=s.name&&s.name.invalid?"focus-within:border-red-500 border-red-500":"focus-within:border-blue-500 border-gray-400"),t.xp6(2),t.Q6J("ngIf",(null==s.name?null:s.name.touched)&&(null==s.name?null:s.name.invalid)),t.xp6(8),t.Q6J("ngIf",s.status==s.rawStatus.loading),t.xp6(2),t.Oqu(s.status==s.rawStatus.loading?"Mengunggah..":"UPDATE"))},dependencies:[g.ez,g.mk,g.O5,l.UX,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u]}),d})()},9564:(x,h,o)=>{o.d(h,{g:()=>s});var t=o(5619);const l={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let u;const b=new Uint8Array(16);function f(){if(!u&&(u=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!u))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return u(b)}const a=[];for(let e=0;e<256;++e)a.push((e+256).toString(16).slice(1));const m=function d(e,n,r){if(l.randomUUID&&!n&&!e)return l.randomUUID();const c=(e=e||{}).random||(e.rng||f)();if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,n){r=r||0;for(let p=0;p<16;++p)n[r+p]=c[p];return n}return function _(e,n=0){return(a[e[n+0]]+a[e[n+1]]+a[e[n+2]]+a[e[n+3]]+"-"+a[e[n+4]]+a[e[n+5]]+"-"+a[e[n+6]]+a[e[n+7]]+"-"+a[e[n+8]]+a[e[n+9]]+"-"+a[e[n+10]]+a[e[n+11]]+a[e[n+12]]+a[e[n+13]]+a[e[n+14]]+a[e[n+15]]).toLowerCase()}(c)};var i=o(6689);let s=(()=>{class e{constructor(){this.subject=new t.X([]),this.observable=this.subject.asObservable()}push(r){r.id=m();let c=this.subject.getValue();c.push(r),this.subject.next(c),setInterval(()=>this.delete(r.id),3e3)}delete(r){let p=this.subject.getValue().filter(y=>y.id!=r);this.subject.next(p)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);